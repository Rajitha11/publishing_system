
import com.org.DB.ConnectionSet1;
import com.org.clz.tablemodel1;
import com.toedter.calendar.JDateChooser;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Vector;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JOptionPane;
import javax.swing.Timer;
import javax.swing.table.DefaultTableModel;

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
/**
 *
 * @author tuan
 */
public class fulJobCarDetails extends javax.swing.JFrame {

    /**
     * Creates new form fulJobCarDetails
     */
    SimpleDateFormat d1, d2;
    Timer t;

    public fulJobCarDetails() {
        initComponents();

        dateMethod();
        tableLoad();

        try {
            jcno.setText(maxid("idjob_card", "job_card", 1));
        } catch (Exception ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        }

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    public String maxid(String columname, String table, int columno) throws Exception {
        int i2 = 0;
        ResultSet sr = ConnectionSet1.getInstance().getResult("SELECT * from " + table + " WHERE(SELECT Max(" + columname + ")FROM " + table + ")");
        while (sr.next()) {
            String id = sr.getString(columno);
            int i = Integer.parseInt(id);
            i2 = i + 1;
        }
        return i2 + "".toString();
    }

    void tableLoad() {
        try {

            tablemodel1.fillTable("select idrm,fname,language,manuscript_name,catergory,sub_catergory from evaluation e1 inner join reseving_manuscript r1 on e1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor where decision = 'Approve' ORDER BY idrm DESC", jTable6);
            tablemodel1.fillTable("select idrm,idjob_card,manuscript_name,fname,language,catergory,sub_catergory,isbn,type_setter,remark from job_card j1 inner join reseving_manuscript r1 on j1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor", jTable3);
            tablemodel1.fillTable("select idrm,idjob_card,manuscript_name,fname,language,catergory,sub_catergory,isbn,type_setter,remark from job_card j1 inner join reseving_manuscript r1 on j1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor", jTable4);

        } catch (ClassNotFoundException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    void dateMethod() {
        //set date & time
        d1 = new SimpleDateFormat("yyyy/ MMM/ dd/ EEEE");
        d2 = new SimpleDateFormat("  hh:mm aaa");
        t = new Timer(100, new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                Date d = new Date();
                jLabel14.setText(d1.format(d));
                jLabel30.setText(d2.format(d));

                jLabel22.setText(d1.format(d));
                jLabel31.setText(d2.format(d));

            }
        });
        t.start();
    }

    public static String datechosser(JDateChooser jd) {
        SimpleDateFormat sd = new SimpleDateFormat("dd /MMMM /yyyy");
        Date d = jd.getDate();
        String date = sd.format(d);
        System.out.println(date);
        return date;

    }

    void clear() {
        sname.setText("");
        rno.setText("");
        aname.setText("");
        catag.setSelectedIndex(0);
        langu.setSelectedIndex(0);
        scatag.setSelectedIndex(0);

        isbn.setText("");
        jcno.setText("");
        typstr.setSelectedIndex(0);
        rmrk.setText("");
        agmtty.setSelectedIndex(0);
        
        aprvisbn.setSelected(false);
        buttonGroup1.clearSelection();
        buttonGroup2.clearSelection();
        buttonGroup3.clearSelection();
        agmtdte.setDate(null);

    }

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        buttonGroup2 = new javax.swing.ButtonGroup();
        buttonGroup3 = new javax.swing.ButtonGroup();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jScrollPane8 = new javax.swing.JScrollPane();
        jTable6 = new javax.swing.JTable();
        jTextField15 = new javax.swing.JTextField();
        jLabel45 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel30 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        sname = new javax.swing.JTextField();
        langu = new javax.swing.JComboBox();
        jLabel15 = new javax.swing.JLabel();
        aname = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        scatag = new javax.swing.JComboBox();
        jLabel23 = new javax.swing.JLabel();
        catag = new javax.swing.JComboBox();
        rno = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jPanel6 = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        an = new javax.swing.JCheckBox();
        ay = new javax.swing.JCheckBox();
        jLabel18 = new javax.swing.JLabel();
        pmy = new javax.swing.JCheckBox();
        pmn = new javax.swing.JCheckBox();
        jLabel19 = new javax.swing.JLabel();
        dy = new javax.swing.JCheckBox();
        dn = new javax.swing.JCheckBox();
        jPanel13 = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        agmtty = new javax.swing.JComboBox();
        jLabel5 = new javax.swing.JLabel();
        agmtdte = new com.toedter.calendar.JDateChooser();
        jLabel43 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        rmrk = new javax.swing.JTextArea();
        jLabel11 = new javax.swing.JLabel();
        typstr = new javax.swing.JComboBox();
        jLabel6 = new javax.swing.JLabel();
        isbn = new javax.swing.JTextField();
        jScrollPane5 = new javax.swing.JScrollPane();
        jTable3 = new javax.swing.JTable();
        jTextField7 = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jcno = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        aprvisbn = new javax.swing.JCheckBox();
        jButton4 = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jTextField8 = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jScrollPane6 = new javax.swing.JScrollPane();
        jTable4 = new javax.swing.JTable();
        jPanel8 = new javax.swing.JPanel();
        jTextField9 = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        jScrollPane7 = new javax.swing.JScrollPane();
        jTable5 = new javax.swing.JTable();
        jLabel4 = new javax.swing.JLabel();
        jLabel44 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setTitle("Job Card Details");
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jTabbedPane1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jTabbedPane1.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "All Approved Manuscript", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel4.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jTable6.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Recive No", "Authour Name", "Language", "Script Name", "Catergory", "Sub Catergory"
            }
        ));
        jTable6.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable6MouseClicked(evt);
            }
        });
        jScrollPane8.setViewportView(jTable6);

        jPanel4.add(jScrollPane8, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 50, 1100, 130));

        jTextField15.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField15KeyReleased(evt);
            }
        });
        jPanel4.add(jTextField15, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 20, 295, -1));

        jLabel45.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel45.setText("Search");
        jPanel4.add(jLabel45, new org.netbeans.lib.awtextra.AbsoluteConstraints(700, 20, 55, -1));

        jPanel1.add(jPanel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 80, 1120, 200));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel1.setText("Create A New Job Card");
        jPanel1.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(430, 10, 308, 58));

        jLabel14.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jPanel1.add(jLabel14, new org.netbeans.lib.awtextra.AbsoluteConstraints(860, 10, 210, 52));

        jLabel30.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jPanel1.add(jLabel30, new org.netbeans.lib.awtextra.AbsoluteConstraints(920, 50, 110, 30));

        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Manuscript Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel5.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel2.setText("Authour/Translater name");
        jPanel5.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 60, -1, -1));

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel8.setText("Language");
        jPanel5.add(jLabel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 90, -1, -1));

        jLabel9.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel9.setText("Sub Catergory");
        jPanel5.add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(620, 90, -1, -1));

        sname.setEditable(false);
        jPanel5.add(sname, new org.netbeans.lib.awtextra.AbsoluteConstraints(230, 30, 291, -1));

        langu.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Sinhala", "Item 2", "Item 3", "Item 4" }));
        jPanel5.add(langu, new org.netbeans.lib.awtextra.AbsoluteConstraints(230, 90, 250, -1));

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel15.setText("Title");
        jPanel5.add(jLabel15, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 30, 60, -1));

        aname.setEditable(false);
        jPanel5.add(aname, new org.netbeans.lib.awtextra.AbsoluteConstraints(230, 60, 290, -1));

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel7.setText("Reserving No ");
        jPanel5.add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(620, 30, -1, -1));

        scatag.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Fiction", "Item 2", "Item 3", "Item 4" }));
        jPanel5.add(scatag, new org.netbeans.lib.awtextra.AbsoluteConstraints(770, 90, 250, -1));

        jLabel23.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel23.setText("Catergory");
        jPanel5.add(jLabel23, new org.netbeans.lib.awtextra.AbsoluteConstraints(620, 60, -1, -1));

        catag.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Fiction", "Item 2", "Item 3", "Item 4" }));
        jPanel5.add(catag, new org.netbeans.lib.awtextra.AbsoluteConstraints(770, 60, 250, -1));
        jPanel5.add(rno, new org.netbeans.lib.awtextra.AbsoluteConstraints(770, 20, 80, 30));

        jPanel1.add(jPanel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 290, 1090, 130));

        jButton1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton1.setText("Save");
        jButton1.setBorder(null);
        jButton1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(770, 810, 108, 45));

        jButton3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton3.setText("Update");
        jButton3.setBorder(null);
        jButton3.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton3, new org.netbeans.lib.awtextra.AbsoluteConstraints(890, 810, 108, 45));

        jButton2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButton2.setText("Delete");
        jButton2.setBorder(null);
        jButton2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jPanel1.add(jButton2, new org.netbeans.lib.awtextra.AbsoluteConstraints(1010, 810, 108, 45));

        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Agreement & Approvels", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel6.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel17.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel17.setText("* Agrement Signed ");
        jPanel6.add(jLabel17, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 30, 190, -1));

        buttonGroup1.add(an);
        an.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        an.setText("No");
        jPanel6.add(an, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 30, -1, -1));

        buttonGroup1.add(ay);
        ay.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        ay.setText("Yes");
        jPanel6.add(ay, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 30, -1, -1));

        jLabel18.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel18.setText("* Publishing Manager Approve");
        jPanel6.add(jLabel18, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 70, 210, -1));

        buttonGroup2.add(pmy);
        pmy.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        pmy.setText("Yes");
        jPanel6.add(pmy, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 70, -1, -1));

        buttonGroup2.add(pmn);
        pmn.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        pmn.setText("No");
        jPanel6.add(pmn, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 70, -1, -1));

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel19.setText("* Director's Approve");
        jPanel6.add(jLabel19, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 110, 210, -1));

        buttonGroup3.add(dy);
        dy.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        dy.setText("Yes");
        jPanel6.add(dy, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 110, -1, -1));

        buttonGroup3.add(dn);
        dn.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        dn.setText("No");
        jPanel6.add(dn, new org.netbeans.lib.awtextra.AbsoluteConstraints(300, 110, -1, -1));

        jPanel13.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel12.setText("Type");
        jPanel13.add(jLabel12, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 10, -1, -1));

        agmtty.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "10 % Royalty Agreement ", "Item 2", "Item 3", "Item 4" }));
        jPanel13.add(agmtty, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 10, 220, -1));

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel5.setText("Date ");
        jPanel13.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 50, -1, -1));
        jPanel13.add(agmtdte, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 50, 160, -1));

        jPanel6.add(jPanel13, new org.netbeans.lib.awtextra.AbsoluteConstraints(360, 20, 310, 80));

        jPanel1.add(jPanel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 710, 690, 140));

        jLabel43.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel43.setText("Date ");
        jPanel1.add(jLabel43, new org.netbeans.lib.awtextra.AbsoluteConstraints(800, 30, -1, -1));

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel10.setText("* Select The Type Setter");
        jPanel1.add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 670, -1, -1));

        rmrk.setColumns(20);
        rmrk.setRows(5);
        jScrollPane1.setViewportView(rmrk);

        jPanel1.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(780, 670, 290, 80));

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel11.setText("* Job No");
        jPanel1.add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(860, 630, 90, -1));

        typstr.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Roshani Tharngika", "Item 2", "Item 3", "Item 4" }));
        jPanel1.add(typstr, new org.netbeans.lib.awtextra.AbsoluteConstraints(360, 670, 250, -1));

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel6.setText("* Applied for ISBN");
        jPanel1.add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(530, 630, -1, -1));
        jPanel1.add(isbn, new org.netbeans.lib.awtextra.AbsoluteConstraints(200, 630, 250, -1));

        jTable3.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Recive No", "Job Card No", "Title", "Authour Name", "Language", "Category", "Su Category", "ISBN", "Type Setter Name", "Remark"
            }
        ));
        jTable3.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable3MouseClicked(evt);
            }
        });
        jScrollPane5.setViewportView(jTable3);

        jPanel1.add(jScrollPane5, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 470, 1120, 140));

        jTextField7.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField7KeyReleased(evt);
            }
        });
        jPanel1.add(jTextField7, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 440, 295, -1));

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel13.setText("Search");
        jPanel1.add(jLabel13, new org.netbeans.lib.awtextra.AbsoluteConstraints(690, 440, 55, -1));

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel16.setText("* Remarak");
        jPanel1.add(jLabel16, new org.netbeans.lib.awtextra.AbsoluteConstraints(670, 670, 90, -1));
        jPanel1.add(jcno, new org.netbeans.lib.awtextra.AbsoluteConstraints(970, 630, 80, 20));

        jLabel25.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel25.setText("* ISBN");
        jPanel1.add(jLabel25, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 630, -1, -1));

        aprvisbn.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        aprvisbn.setText("Yes");
        jPanel1.add(aprvisbn, new org.netbeans.lib.awtextra.AbsoluteConstraints(670, 630, -1, -1));

        jButton4.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jButton4.setText("Clear");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton4, new org.netbeans.lib.awtextra.AbsoluteConstraints(900, 770, 80, 30));

        jTabbedPane1.addTab("Add New Job Card", jPanel1);

        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Assinged Jobs", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel7.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jTextField8.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField8KeyReleased(evt);
            }
        });
        jPanel7.add(jTextField8, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 20, 295, -1));

        jLabel20.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel20.setText("Search");
        jPanel7.add(jLabel20, new org.netbeans.lib.awtextra.AbsoluteConstraints(660, 20, 55, -1));

        jTable4.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Recived No", "Job No", "Title", "Authour Name", "Language", "Category", "Sub Category", "ISBN", "Type Setter", "Remark"
            }
        ));
        jScrollPane6.setViewportView(jTable4);

        jPanel7.add(jScrollPane6, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 50, 1060, 160));

        jPanel2.add(jPanel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 130, 1110, 230));

        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "States Of The Book", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel8.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());
        jPanel8.add(jTextField9, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 20, 295, -1));

        jLabel21.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel21.setText("Search");
        jPanel8.add(jLabel21, new org.netbeans.lib.awtextra.AbsoluteConstraints(660, 20, 55, -1));

        jTable5.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Job No", "Authour Name", "Date", "Title", "Type Setter", "Typesetting"
            }
        ));
        jScrollPane7.setViewportView(jTable5);

        jPanel8.add(jScrollPane7, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 50, 1060, 160));

        jPanel2.add(jPanel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 500, 1110, 230));

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel4.setText("Assinged Job Cards");
        jPanel2.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(410, 20, 290, 58));

        jLabel44.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel44.setText("Date ");
        jPanel2.add(jLabel44, new org.netbeans.lib.awtextra.AbsoluteConstraints(800, 30, -1, -1));

        jLabel22.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jPanel2.add(jLabel22, new org.netbeans.lib.awtextra.AbsoluteConstraints(860, 10, 210, 52));

        jLabel31.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jPanel2.add(jLabel31, new org.netbeans.lib.awtextra.AbsoluteConstraints(920, 50, 110, 30));

        jTabbedPane1.addTab("Assinged Job Cards", jPanel2);

        getContentPane().add(jTabbedPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 1150, 900));

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void jTextField15KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField15KeyReleased
        try {
            // TODO add your handling code here:
            // serch all manuscript details
            tablemodel1.fillTable("select idrm,fname,language,manuscript_name,catergory,sub_catergory from evaluation e1 inner join reseving_manuscript r1 on e1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor where decision = 'Approve' AND (fname like('" + jTextField15.getText() + "%%" + "') or manuscript_name like('" + jTextField15.getText() + "%%%" + "'))", jTable6);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_jTextField15KeyReleased

    private void jTable6MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable6MouseClicked
        // TODO add your handling code here
        //set value for the feilds
        DefaultTableModel dtm = (DefaultTableModel) jTable6.getModel();
        int i = jTable6.getSelectedRow();
        Vector v = new Vector();
        Vector v1 = new Vector();
        Vector v2 = new Vector();

        String s = dtm.getValueAt(i, 0).toString();
        String s1 = dtm.getValueAt(i, 1).toString();
        String s2 = dtm.getValueAt(i, 2).toString();
        String s3 = dtm.getValueAt(i, 3).toString();
        String s4 = dtm.getValueAt(i, 4).toString();
        String s5 = dtm.getValueAt(i, 5).toString();

        rno.setText(s);
        aname.setText(s1);

        v.add(s2);
        langu.setModel(new DefaultComboBoxModel(v));

        sname.setText(s3);

        v1.add(s4);
        catag.setModel(new DefaultComboBoxModel(v1));

        v2.add(s5);
        scatag.setModel(new DefaultComboBoxModel(v2));

    }//GEN-LAST:event_jTable6MouseClicked

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        if (rno.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Select the Manuscript", "Error", JOptionPane.WARNING_MESSAGE);
        } else {
            try {
                // TODO add your handling code here:
                // save a new jobCard Details
                int manu_script = 0;
                ResultSet rs = ConnectionSet1.getInstance().getResult("select idrm from reseving_manuscript where idrm='" + rno.getText() + "'");
                if (rs.next()) {
                    manu_script = rs.getInt("idrm");
                }

                String isbnsjnt;
                if (aprvisbn.isSelected()) {
                    isbnsjnt = "Yes";
                } else {
                    isbnsjnt = "No";
                }

                String isb = isbn.getText();
                String typs = typstr.getSelectedItem().toString();
                String rmk = rmrk.getText();

                String agsing;
                if (ay.isSelected()) {
                    agsing = "Yes";
                } else {
                    agsing = "No";
                }

                String agtyp = agmtty.getSelectedItem().toString();
                String resdat = datechosser(agmtdte);

                String pmarv;
                if (pmy.isSelected()) {
                    pmarv = "Yes";
                } else {
                    pmarv = "No";
                }

                String mdaprv;
                if (dy.isSelected()) {
                    mdaprv = "Yes";
                } else {
                    mdaprv = "No";
                }

                ConnectionSet1.getInstance().setResult("insert into job_card( `job_card`.`isbn_apply`, `job_card`.`isbn`, `job_card`.`type_setter`, `job_card`.`remark`, `job_card`.`agrmt_sign`, `job_card`.`agrmt_type`, `job_card`.`agrmt_sign_date`, `job_card`.`pm_aprove`, `job_card`.`md_aprove`, `job_card`.`reseving_manuscript_idrm`)"
                        + "values('" + isbnsjnt + "','" + isb + "','" + typs + "','" + rmk + "','" + agsing + "','" + agtyp + "','" + resdat + "','" + pmarv + "','" + mdaprv + "','" + manu_script + "') ");
                clear();
                tableLoad();
                jcno.setText(maxid("idjob_card", "job_card", 1));

            } catch (Exception ex) {
                Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        try {
            // TODO add your handling code here:
            // clear all
            clear();
            jcno.setText(maxid("idjob_card", "job_card", 1));
        } catch (Exception ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jTextField8KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField8KeyReleased
        try {
            // TODO add your handling code here:
            //assinged job card details serch

            tablemodel1.fillTable("select idrm,idjob_card,manuscript_name,fname,language,catergory,sub_catergory,isbn,type_setter,remark from job_card j1 inner join reseving_manuscript r1 on j1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor where fname like('" + jTextField8.getText() + "%%" + "') or idjob_card like('" + jTextField8.getText() + "%%" + "') or isbn like('" + jTextField8.getText() + "%%" + "') or type_setter like('" + jTextField8.getText() + "%%" + "') or manuscript_name like('" + jTextField8.getText() + "%%" + "')", jTable4);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_jTextField8KeyReleased

    private void jTextField7KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField7KeyReleased
        try {
            // TODO add your handling code here:
            // joc card table assinged job details
            tablemodel1.fillTable("select idrm,idjob_card,manuscript_name,fname,language,catergory,sub_catergory,isbn,type_setter,remark from job_card j1 inner join reseving_manuscript r1 on j1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor where fname like('" + jTextField7.getText() + "%%" + "') or idjob_card like('" + jTextField7.getText() + "%%" + "') or isbn like('" + jTextField7.getText() + "%%" + "') or type_setter like('" + jTextField7.getText() + "%%" + "')", jTable3);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_jTextField7KeyReleased

    private void jTable3MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable3MouseClicked
        try {
            // TODO add your handling code here:
            // set values from the update
            DefaultTableModel dtm = (DefaultTableModel) jTable3.getModel();

            int i = jTable3.getSelectedRow();
            String coln = dtm.getValueAt(i, 0).toString();
            ResultSet rs = ConnectionSet1.getInstance().getResult("select idrm,idjob_card,manuscript_name,fname,language,catergory,sub_catergory,isbn_apply,isbn,type_setter,remark,agrmt_sign,agrmt_type,agrmt_sign_date,pm_aprove,md_aprove from job_card j1 inner join reseving_manuscript r1 on j1.reseving_manuscript_idrm = r1.idrm inner join author a1 on r1.author_idauthor = a1.idauthor where reseving_manuscript_idrm='" + coln + "'");

            if (rs.next()) {

                String s1 = rs.getString("idjob_card");
                jcno.setText(s1);

                String s2 = rs.getString("fname");
                aname.setText(s2);

                String s3 = rs.getString("manuscript_name");
                sname.setText(s3);

                Vector v = new Vector();
                String s4 = rs.getString("language");
                v.add(s4);
                langu.setModel(new DefaultComboBoxModel(v));

                String s5 = rs.getString("idrm");
                rno.setText(s5);

                Vector v1 = new Vector();
                String s6 = rs.getString("catergory");
                v1.add(s6);
                catag.setModel(new DefaultComboBoxModel(v1));

                Vector v2 = new Vector();
                String s7 = rs.getString("sub_catergory");
                v2.add(s7);
                scatag.setModel(new DefaultComboBoxModel(v2));

                String s8 = rs.getString("isbn");
                isbn.setText(s8);

                String s9 = rs.getString("isbn_apply");
                if (s9.equals("Yes")) {
                    aprvisbn.setSelected(true);
                } else {
                    aprvisbn.setSelected(false);
                }

                String s10 = rs.getString("type_setter");
                Vector v3 = new Vector();
                v3.add(s10);
                typstr.setModel(new DefaultComboBoxModel(v3));

                String s11 = rs.getString("remark");
                rmrk.setText(s11);

                String s12 = rs.getString("agrmt_sign");
                if (s12.equals("Yes")) {
                    ay.setSelected(true);
                } else {
                    an.setSelected(true);
                }

                String s13 = rs.getString("agrmt_type");
                Vector v4 = new Vector();
                v4.add(s13);
                agmtty.setModel(new DefaultComboBoxModel(v4));

                String s14 = rs.getString("agrmt_sign_date");
                Date d1 = new Date(s14);
                d1.getDate();
                agmtdte.setDate(d1);

                String s15 = rs.getString("pm_aprove");
                if (s15.equals("Yes")) {
                    pmy.setSelected(true);
                } else {
                    pmn.setSelected(true);
                }

                String s16 = rs.getString("md_aprove");
                if (s16.equals("Yes")) {
                    dy.setSelected(true);
                } else {
                    dn.setSelected(true);
                }

            }


        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }//GEN-LAST:event_jTable3MouseClicked

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        if (rno.getText().isEmpty()) {
            JOptionPane.showMessageDialog(this, "Select the Job Details", "Error", JOptionPane.WARNING_MESSAGE);
        } else {
            try {
                // TODO add your handling code here:
                // update a job card
                DefaultTableModel dtm = (DefaultTableModel) jTable3.getModel();

                String isbnsjnt;
                if (aprvisbn.isSelected()) {
                    isbnsjnt = "Yes";
                } else {
                    isbnsjnt = "No";
                }

                String isb = isbn.getText();
                String typs = typstr.getSelectedItem().toString();
                String rmk = rmrk.getText();

                String agsing;
                if (ay.isSelected()) {
                    agsing = "Yes";
                } else {
                    agsing = "No";
                }

                String agtyp = agmtty.getSelectedItem().toString();
                String resdat = datechosser(agmtdte);

                String pmarv;
                if (pmy.isSelected()) {
                    pmarv = "Yes";
                } else {
                    pmarv = "No";
                }

                String mdaprv;
                if (dy.isSelected()) {
                    mdaprv = "Yes";
                } else {
                    mdaprv = "No";
                }

                ConnectionSet1.getInstance().setResult("update job_card set isbn_apply='" + isbnsjnt + "',isbn='" + isb + "',type_setter='" + typs + "',remark='" + rmk + "',agrmt_sign='" + agsing + "',agrmt_type='" + agtyp + "',agrmt_sign_date='" + resdat + "',pm_aprove='" + pmarv + "',md_aprove='" + mdaprv + "' where idjob_card='" + jcno.getText() + "'");
                clear();
                tableLoad();
            } catch (Exception ex) {
                Logger.getLogger(fulJobCarDetails.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }//GEN-LAST:event_jButton3ActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(fulJobCarDetails.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(fulJobCarDetails.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(fulJobCarDetails.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(fulJobCarDetails.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new fulJobCarDetails().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private com.toedter.calendar.JDateChooser agmtdte;
    private javax.swing.JComboBox agmtty;
    private javax.swing.JCheckBox an;
    private javax.swing.JTextField aname;
    private javax.swing.JCheckBox aprvisbn;
    private javax.swing.JCheckBox ay;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.ButtonGroup buttonGroup2;
    private javax.swing.ButtonGroup buttonGroup3;
    private javax.swing.JComboBox catag;
    private javax.swing.JCheckBox dn;
    private javax.swing.JCheckBox dy;
    private javax.swing.JTextField isbn;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTable jTable3;
    private javax.swing.JTable jTable4;
    private javax.swing.JTable jTable5;
    private javax.swing.JTable jTable6;
    private javax.swing.JTextField jTextField15;
    private javax.swing.JTextField jTextField7;
    private javax.swing.JTextField jTextField8;
    private javax.swing.JTextField jTextField9;
    private javax.swing.JLabel jcno;
    private javax.swing.JComboBox langu;
    private javax.swing.JCheckBox pmn;
    private javax.swing.JCheckBox pmy;
    private javax.swing.JTextArea rmrk;
    private javax.swing.JLabel rno;
    private javax.swing.JComboBox scatag;
    private javax.swing.JTextField sname;
    private javax.swing.JComboBox typstr;
    // End of variables declaration//GEN-END:variables
}
